<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">    
        <title>정보처리기사_로그인시스템구현하기</title>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
        <script src="common.js"></script>
    </head>
    <body>
        <h1>공통모듈 작동 페이지</h1>
        <div id="uicontainer">
            <label>아 이 디 <input type="text" id="myid" /></label>
            <label>비밀번호 <input type="password" id="mypw" /></label>
            <button id="signin">로그인</button>
        </div>
        <a href="#" id="logoutContainer"></a>
    </body>
    <script>
        $("#signin").click(async ()=>{
            const data = await login($("#myid").val(),$("#mypw").val());			
            if(data.message=="로그인성공"){
				$("#uicontainer").text(`
					${data.member.mid}(${data.member.name})님 로그인 하신걸 환영합니다.
				`);
				logout($("#logoutContainer"));				
			}else{
				alert("로그인 실패");
			}            
        })
    </script>
</html>
